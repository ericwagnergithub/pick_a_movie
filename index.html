<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pick A Movie</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header>
      <h1>Pick A Movie üé¨</h1>
      <p class="subtitle">Discovery Queue + smart ranking for what to watch next.</p>
    </header>

    <main>
      <!-- Main menu -->
      <section id="screen-main-menu" class="screen">
        <h2>Main Menu</h2>

        <div class="card" id="onboarding-card">
          <h3>How it works</h3>
          <p class="small-text">
            <strong>1. Discover:</strong> Review movies in batches and classify them as Watchlist, Seen, or Not Interested.
            <br><strong>2. Rank:</strong> Compare pairs of movies to build your ranked list.
            <br><strong>3. Decide:</strong> See your top picks and decide what to watch!
          </p>
          <p class="small-text muted" style="margin-top: 0.5rem;">
            üíæ All data is stored locally in your browser. Use Export to backup your data.
          </p>
        </div>

        <div class="card">
          <h3>Modes</h3>
          <div class="button-column">
            <button id="btn-start-discovery">Start / Continue Discovery Queue</button>
            <button id="btn-rank-watchlist">Rank your Watchlist</button>
            <button id="btn-rank-seen">Rank your Seen Movies</button>
          </div>
        </div>

        <div class="card">
          <h3>Your stats</h3>
          <ul class="stats-list">
            <li><span>Watchlist:</span> <span id="stat-watchlist-count">0</span></li>
            <li><span>Seen:</span> <span id="stat-seen-count">0</span></li>
            <li><span>Not interested:</span> <span id="stat-not-interested-count">0</span></li>
            <li><span>Unreviewed in Discovery Queue:</span> <span id="stat-unreviewed-count">0</span></li>
          </ul>

        <div class="button-column">
            <button id="btn-export-data">Export my data</button>
            <button id="btn-import-data">Import data</button>
        </div>
        <input
            type="file"
            id="import-file-input"
            accept="application/json"
            style="display: none"
        />
        </div>
      </section>

      <!-- Discovery Queue -->
      <section id="screen-discovery" class="screen hidden">
        <div class="card">
          <div class="screen-header">
            <h2>Discovery Queue</h2>
            <button class="link-button" id="btn-discovery-back">‚Üê Back to main menu</button>
          </div>
          <p class="small-text">
            Review movies in batches of 10. For each one, say if you've seen it, want to watch it, or aren't interested.
          </p>

          <div id="discovery-content">
            <p id="discovery-progress" class="small-text"></p>

            <div class="movie-card">
              <img id="discovery-poster" class="movie-poster" src="" alt="Movie poster" />
              <div class="movie-info">
                <div id="discovery-movie-title" class="movie-title-large"></div>
                <div id="discovery-movie-meta" class="movie-meta"></div>
                <div id="discovery-movie-overview" class="movie-overview"></div>
                <div id="discovery-movie-credits" class="movie-credits"></div>
              </div>
            </div>

            <div id="discovery-buttons" class="button-column">
              <button id="btn-discovery-seen" class="btn-seen">I've seen this</button>
              <button id="btn-discovery-watchlist" class="btn-watchlist">I want to watch this</button>
              <button id="btn-discovery-not-interested" class="btn-not-interested">I'm not interested</button>
              <button id="btn-discovery-skip" class="btn-skip">Skip this for now</button>
            </div>

            <p id="discovery-empty-message" class="small-text muted"></p>
          </div>
        </div>
      </section>

      <!-- Ranking screen (used for Watchlist + Seen) -->
      <section id="screen-ranking" class="screen hidden">
        <div class="card">
          <div class="screen-header">
            <h2 id="ranking-title">Ranking</h2>
            <button class="link-button" id="btn-ranking-back">‚Üê Back to main menu</button>
          </div>
          <p id="ranking-description" class="small-text">
            Choose which movie you‚Äôd rather watch / which you like more. Over time, this builds your ranking.
          </p>

          <div id="ranking-pair-area">
            <div id="ranking-pair" class="ranking-pair-container">
              <div class="ranking-option">
                <img id="rank-left-poster" class="ranking-poster" src="" alt="Movie poster" />
                <div class="movie-title-large" id="rank-left-title"></div>
                <div id="rank-left-meta" class="movie-meta-small"></div>
                <button id="btn-rank-left">Prefer this</button>
              </div>

              <div class="ranking-vs">vs</div>

              <div class="ranking-option">
                <img id="rank-right-poster" class="ranking-poster" src="" alt="Movie poster" />
                <div class="movie-title-large" id="rank-right-title"></div>
                <div id="rank-right-meta" class="movie-meta-small"></div>
                <button id="btn-rank-right">Prefer this</button>
              </div>
            </div>

            <p id="ranking-empty-message" class="small-text muted"></p>
          </div>

          <div class="ranking-list-wrapper">
            <h3>Current ranking</h3>
            <ol id="ranking-list"></ol>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>Pick A Movie ‚Ä¢ data stored locally in your browser</p>
    </footer>
  </div>

  <!-- New: big movie list in its own file -->
  <script src="movies.js" defer></script>
  <script src="movie_metadata.js" defer></script>
  <script src="script.js" defer></script>
</body>
</html>
